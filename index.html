<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>T-Strike</title>
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <main>
      <!-- Global Back to Menu Button (shown dynamically) -->
      <button id="back-to-menu-btn" class="back-btn" hidden>
        Back to Menu
      </button>

      <!-- Main Menu Screen -->
        <section id="menu" class="menu-container screen">
          <h1>T-Strike</h1>
          <div class="menu-buttons">
            <button class="menu-btn" id="tutorial-btn">Instruction</button>
            <button class="menu-btn" id="modes-btn">Play</button>
          </div>
        </section>

      <!-- Tutorial Screen -->
      <section id="tutorial" class="tutorial-container screen" hidden>
        <h2>How to Play</h2>
        <ol class="tutorial-steps">
          <li>Click "Start" to launch the timer.</li>
          <li>
            Try to stop the timer by clicking "Stop" exactly on the
            <strong>target time</strong>.
          </li>
          <li>The closer you are to the target time, the better your score!</li>
          <li>Train your precision and reflexes to beat your personal best.</li>
        </ol>
        <p>Press "Game Modes" in the menu to start a real game.</p>
      </section>

      <!-- Game Modes Selection Screen -->
      <section
        id="mode-selection"
        class="mode-selection-container screen"
        hidden
      >
        <h2>Mode Selection</h2>
        <p class="mode-instruction">Click to select a mode or use ↑ / ↓</p>
        <div class="mode-wrapper">
          <div class="mode-option mode-option-small" id="prev-mode"></div>
          <div class="mode-option mode-option-selected" id="current-mode"></div>
          <div class="mode-option mode-option-small" id="next-mode"></div>
        </div>
      </section>

      <!-- Game Screen -->
      <section id="game" class="game-container screen" hidden>
        <h2>Game</h2>
        <div class="score-streak-container">
          <div class="streak-container">
            <span id="current-streak">0</span>
          </div>
          <div class="separator-container">
            <span class="separator">|</span>
          </div>
          <div class="precision-container">
            <div class="precision-wrapper">
              <span id="precision-difference" hidden>+0%</span>
              <span id="current-precision">0%</span>
            </div>
          </div>
          <div class="separator-container">
            <span class="separator">|</span>
          </div>
          <div class="score-container">
            <div class="score-wrapper">
              <span id="current-score">0</span>
              <span id="score-gain" class="score-gain hidden">+0</span>
            </div>
          </div>
        </div>

        <p class="target-time">Target Time: <span id="target">5.00</span>s</p>
        <div class="timer-container">
          <div class="timer-wrapper" id="timer-wrapper">
            <div class="timer" id="timer" aria-live="polite">0s</div>
          </div>
          <svg class="progress-ring" width="160" height="160">
            <circle
              class="progress-ring-circle"
              stroke="#ffffff"
              stroke-width="8"
              fill="transparent"
              r="70"
              cx="80"
              cy="80"
            />
          </svg>
        </div>

        <button id="start-stop-btn">START</button>
        <p
          class="time-difference-msg"
          id="time-difference-msg"
          aria-live="polite"
        ></p>
        <p class="result-msg" id="result-msg" aria-live="polite"></p>
      </section>

      <section id="end-screen" class="screen" hidden>
        <h2>Game Over</h2>
        <ul>
          <li>Average precision: <span id="stat-precision"></span>%</li>
          <li>Total score: <span id="stat-score"></span></li>
          <li>Average score: <span id="stat-avg-score"></span></li>
          <li>Streak: <span id="stat-streak"></span></li>
          <li>Best round: <span id="stat-best-score"></span></li>
        </ul>
        <button id="btn-restart">New Game</button>
      </section>
    </main>

    <script type="module" src="src/main.js"></script>
  </body>
</html>
